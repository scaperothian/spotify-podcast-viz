{% extends 'base.html' %}

{% block content %}
<h2 style="text-align: center;">General Insights</h2>

<div>
    <div class="charts text-center">
        <div class="row"><div id="gen"></div></div><hr>
        <!-- Placeholder for the tooltip -->
        <div id="vis-tooltip" class="vg-tooltip"></div>
      </div>
</div>

<!-- Render Charts -->
<script type="text/javascript">
function parse(url, div) {
    var opt = {
    mode: "vega-lite",
    renderer: "svg",
    actions: {export: true, source: false, editor: false}
    };

    vegaEmbed("#"+div, url, opt, function(error, result) {
    // result.view is the Vega View, url is the original Vega-Lite specification
    vegaTooltip.vegaLite(result.view, url);
    });
}

parse("/gen", "gen")

</script>

{% endblock %}